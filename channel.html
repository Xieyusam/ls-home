<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Luoshan's homepage</title>
  <link rel="stylesheet" href="./css/common.css" />
  <link rel="stylesheet" href="./css/header.css" />
  <link rel="stylesheet" href="./css/channel.css" />
</head>

<body>
  <!-- <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script> -->
  <script src="./js/vue.global.js"></script>
  <script src="./js/projectInfo.js"></script>

  <div id="app">
    <div class="main">
      <!-- 菜单 -->
      <div class="header">
        <div class="header-left">
          <div class="header-name">LUO SHAN</div>
          <div class="header-email">luoshan3398@qq.com</div>
        </div>
        <div class="header-right">
          <div @click="goToPage('./index.html')" class="header-menu">
            Home
          </div>
          <div @click="goToPage('./project.html')" class="header-menu select">
            Project
          </div>
        </div>
      </div>
      <!-- 二级菜单 -->
      <div class="nav-menu">
        <div @click="goToPage('./accessibility.html')" class="nav-menu-item">Accessibility</div>
        <div @click="goToPage('./game.html')" class="nav-menu-item">Game</div>
        <div @click="goToPage('./more-than-human.html')" class="nav-menu-item">More than Human</div>
        <div @click="goToPage('./channel.html')" class="nav-menu-item select">Channel</div>
        <div @click="goToPage('./interesting.html')" class="nav-menu-item">Interesting</div>
      </div>
      <!-- 主体内容 -->
      <div class="main-body">
        <div class="main-body-desc">
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setting up the stage is
          the most frequent task I've undertaken in recent years, and there's
          a lot of finesse involved here. How do you get all stakeholders to
          be willing to participate? How do you make the snowball effect
          happen? By talking to A about B and to B about A, the matter might
          just come to fruition. In the end, you also need to create momentum,
          and make it substantial, so that the internet ecosystem starts to
          operate. The basic way to play the game is like this, but there is
          still a need for some fundamental, underlying elements, a good
          design.
        </div>

        <div class="main-body-desc-ch" style="margin-top: 74px">
          搭场子，是这几年干的最多的事情，其实这里非常有讲究，如何让所有利益既得者都愿意参与进来？如何滚雪球？拿A和B说，拿B和A说，这事或许就成了。最后你还要造势，造的大大的，互联网生态圈开始运转。游戏的玩法基本上是这样子，不过还是需要一些底层、最本质的东西，一个好设计。
        </div>


        <div class="project-img-box">
          <template v-for="(project, index) in sortedProjects" :key="project.id">
            <img 
              @click="goToPage('./detail.html?ProjectId=' + project.id)" 
              :class="'img-size-' + ((index % 3) + 1)"
              :src="project.coverImage" 
              alt="">
          </template>
          <div v-for="n in emptyCells" :key="'empty-'+n" class="img-size-3"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const { createApp, ref, computed } = Vue;

    createApp({
      setup() {
        const projects = ref(Object.values(projectInfoData).filter(p => p.category === 'Channel'));

        const sortedProjects = computed(() => {
          return [...projects.value].sort((a, b) => {
            return (a.sortOrder || 0) - (b.sortOrder || 0);
          });
        });

        const emptyCells = computed(() => {
          const len = sortedProjects.value.length;
          const remainder = len % 3;
          return remainder === 0 ? 0 : 3 - remainder;
        });

        const goToPage = (path) => {
          window.location.href = path;
        };
        return {
          goToPage,
          sortedProjects,
          emptyCells
        };
      },
    }).mount("#app");
  </script>
<script src="./js/resize.js"></script></body>

</html>